ultron_docker_vm:
  switch:
    - platform: rest
      resource: http://192.168.1.11:8126/container/transmission
      username: !secret ha-dockermon.username
      password: !secret ha-dockermon.password
      name: c_ultron_docker_transmission
      body_on: '{"state": "start"}'
      body_off: '{"state": "stop"}'
      is_on_template: '{{ value_json is not none and value_json.state == "running" }}'
      icon: mdi:docker
      headers:
        Content-Type: application/json

    - platform: rest
      resource: http://192.168.1.11:8126/container/transmission-telegram
      username: !secret ha-dockermon.username
      password: !secret ha-dockermon.password
      name: c_ultron_docker_transmission-telegram
      body_on: '{"state": "start"}'
      body_off: '{"state": "stop"}'
      is_on_template: '{{ value_json is not none and value_json.state == "running" }}'
      icon: mdi:docker
      headers:
        Content-Type: application/json

    - platform: rest
      resource: http://192.168.1.11:8126/container/telegraf
      username: !secret ha-dockermon.username
      password: !secret ha-dockermon.password
      name: c_ultron_docker_telegraf
      body_on: '{"state": "start"}'
      body_off: '{"state": "stop"}'
      is_on_template: '{{ value_json is not none and value_json.state == "running" }}'
      icon: mdi:docker
      headers:
        Content-Type: application/json

    - platform: rest
      resource: http://192.168.1.11:8126/container/nextcloud
      username: !secret ha-dockermon.username
      password: !secret ha-dockermon.password
      name: c_ultron_docker_nextcloud
      body_on: '{"state": "start"}'
      body_off: '{"state": "stop"}'
      is_on_template: '{{ value_json is not none and value_json.state == "running" }}'
      icon: mdi:docker
      headers:
        Content-Type: application/json

    - platform: rest
      resource: http://192.168.1.11:8126/container/plex
      username: !secret ha-dockermon.username
      password: !secret ha-dockermon.password
      name: c_ultron_docker_plex
      body_on: '{"state": "start"}'
      body_off: '{"state": "stop"}'
      is_on_template: '{{ value_json is not none and value_json.state == "running" }}'
      icon: mdi:docker
      headers:
        Content-Type: application/json

    - platform: rest
      resource: http://192.168.1.11:8126/container/radarr
      username: !secret ha-dockermon.username
      password: !secret ha-dockermon.password
      name: c_ultron_docker_radarr
      body_on: '{"state": "start"}'
      body_off: '{"state": "stop"}'
      is_on_template: '{{ value_json is not none and value_json.state == "running" }}'
      icon: mdi:docker
      headers:
        Content-Type: application/json

    - platform: rest
      resource: http://192.168.1.11:8126/container/sonarr
      username: !secret ha-dockermon.username
      password: !secret ha-dockermon.password
      name: c_ultron_docker_sonarr
      body_on: '{"state": "start"}'
      body_off: '{"state": "stop"}'
      is_on_template: '{{ value_json is not none and value_json.state == "running" }}'
      icon: mdi:docker
      headers:
        Content-Type: application/json

    - platform: rest
      resource: http://192.168.1.11:8126/container/syncthing
      username: !secret ha-dockermon.username
      password: !secret ha-dockermon.password
      name: c_ultron_docker_syncthing
      body_on: '{"state": "start"}'
      body_off: '{"state": "stop"}'
      is_on_template: '{{ value_json is not none and value_json.state == "running" }}'
      icon: mdi:docker
      headers:
        Content-Type: application/json

    - platform: rest
      resource: http://192.168.1.11:8126/container/glances
      username: !secret ha-dockermon.username
      password: !secret ha-dockermon.password
      name: c_ultron_docker_glances
      body_on: '{"state": "start"}'
      body_off: '{"state": "stop"}'
      is_on_template: '{{ value_json is not none and value_json.state == "running" }}'
      icon: mdi:docker
      headers:
        Content-Type: application/json

    - platform: rest
      resource: http://192.168.1.11:8126/container/grafana
      username: !secret ha-dockermon.username
      password: !secret ha-dockermon.password
      name: c_ultron_docker_grafana
      body_on: '{"state": "start"}'
      body_off: '{"state": "stop"}'
      is_on_template: '{{ value_json is not none and value_json.state == "running" }}'
      icon: mdi:docker
      headers:
        Content-Type: application/json

    - platform: rest
      resource: http://192.168.1.11:8126/container/homepage
      username: !secret ha-dockermon.username
      password: !secret ha-dockermon.password
      name: c_ultron_docker_homepage
      body_on: '{"state": "start"}'
      body_off: '{"state": "stop"}'
      is_on_template: '{{ value_json is not none and value_json.state == "running" }}'
      icon: mdi:docker
      headers:
        Content-Type: application/json

    - platform: rest
      resource: http://192.168.1.11:8126/container/GluetunVPN
      username: !secret ha-dockermon.username
      password: !secret ha-dockermon.password
      name: c_ultron_docker_GluetunVPN
      body_on: '{"state": "start"}'
      body_off: '{"state": "stop"}'
      is_on_template: '{{ value_json is not none and value_json.state == "running" }}'
      icon: mdi:docker
      headers:
        Content-Type: application/json
    - platform: rest
      resource: http://192.168.1.11:8126/container/honeygain
      username: !secret ha-dockermon.username
      password: !secret ha-dockermon.password
      name: c_ultron_docker_honeygain
      body_on: '{"state": "start"}'
      body_off: '{"state": "stop"}'
      is_on_template: '{{ value_json is not none and value_json.state == "running" }}'
      icon: mdi:docker
      headers:
        Content-Type: application/json

    - platform: rest
      resource: http://192.168.1.11:8126/container/traffmonetizer
      username: !secret ha-dockermon.username
      password: !secret ha-dockermon.password
      name: c_ultron_docker_traffmonetizer
      body_on: '{"state": "start"}'
      body_off: '{"state": "stop"}'
      is_on_template: '{{ value_json is not none and value_json.state == "running" }}'
      icon: mdi:docker
      headers:
        Content-Type: application/json
#   command_line:
#     - switch:
#         unique_id: ultron_server
#         name: "Ultron Server"
#         command_on: "ssh -i /config/ultron.key -o StrictHostKeyChecking=no root@192.168.1.11 start"
#         command_off: "ssh -i /config/ultron.key -o StrictHostKeyChecking=no root@192.168.1.11 shutdown -h now"
#         command_state: "ssh -i /config/ultron.key -o StrictHostKeyChecking=no root@192.168.1.11 echo 0 "
#         icon: mdi:server

#     - switch:
#         unique_id: vm_htpc
#         name: "VM HTPC"
#         command_on: "ssh -i /config/ultron.key -o StrictHostKeyChecking=no root@192.168.1.11 virsh start HTPC"
#         command_off: "ssh -i /config/ultron.key -o StrictHostKeyChecking=no root@192.168.1.11 virsh shutdown HTPC"
#         command_state: "ssh -i /config/ultron.key -o StrictHostKeyChecking=no root@192.168.1.11 virsh list --all | grep HTPC | awk '{print $3$4}' "
#         value_template: '{{ value == "running" }}'
#         icon: mdi:microsoft-windows

#     - switch:
#         unique_id: vm_fedora
#         name: "VM Fedora"
#         command_on: "ssh -i /config/ultron.key -o StrictHostKeyChecking=no root@192.168.1.11 virsh start Fedora"
#         command_off: "ssh -i /config/ultron.key -o StrictHostKeyChecking=no root@192.168.1.11 virsh shutdown Fedora"
#         command_state: "ssh -i /config/ultron.key -o StrictHostKeyChecking=no root@192.168.1.11 virsh list --all | grep Fedora | awk '{print $3$4}' "
#         value_template: '{{ value == "running" }}'
#         icon: mdi:fedora

